<div class="form-container">
  <div class="form-header">
    <h2>Edit Student</h2>
  </div>

  <div *ngIf="loadingStudent" class="loading">
    Loading student data...
  </div>

  <div *ngIf="errorMessage" class="message error-message">
    {{ errorMessage }}
  </div>

  <div *ngIf="successMessage" class="message success-message">
    {{ successMessage }}
  </div>

  <form #studentForm="ngForm" (ngSubmit)="onSubmit()" class="student-form" *ngIf="!loadingStudent">
    <div class="form-group">
      <label for="name">Name <span class="required">*</span></label>
      <input
        type="text"
        id="name"
        name="name"
        [(ngModel)]="student.name"
        #name="ngModel"
        required
        class="form-control"
        placeholder="Enter student name"
      />
      <div *ngIf="submitted && name.invalid" class="validation-error">
        Name is required
      </div>
    </div>

    <div class="form-group">
      <label for="rollNo">Roll Number <span class="required">*</span></label>
      <input
        type="text"
        id="rollNo"
        name="rollNo"
        [(ngModel)]="student.rollNo"
        #rollNo="ngModel"
        required
        class="form-control"
        placeholder="Enter roll number"
      />
      <div *ngIf="submitted && rollNo.invalid" class="validation-error">
        Roll Number is required
      </div>
    </div>

    <div class="form-group">
      <label for="course">Course</label>
      <input
        type="text"
        id="course"
        name="course"
        [(ngModel)]="student.course"
        class="form-control"
        placeholder="Enter course name"
      />
    </div>

    <div class="form-group">
      <label for="marks">Marks</label>
      <input
        type="number"
        id="marks"
        name="marks"
        [(ngModel)]="student.marks"
        class="form-control"
        placeholder="Enter marks"
        min="0"
        max="100"
      />
    </div>

    <div class="form-actions">
      <button
        type="submit"
        class="btn btn-primary"
        [disabled]="loading"
      >
        {{ loading ? 'Updating...' : 'Update Student' }}
      </button>
      <button
        type="button"
        class="btn btn-secondary"
        (click)="cancel()"
        [disabled]="loading"
      >
        Cancel
      </button>
    </div>
  </form>
</div>
